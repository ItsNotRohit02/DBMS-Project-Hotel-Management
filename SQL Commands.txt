create table customerdetails(cid int primary key,aadhar int, cname char(50), cage int, phone int, caddress char(100));
create table room(roomnum int primary key,roomtypeid int, size int, availability char(20));
create table roomtype(roomtypeid int primary key,bednum int, ac char(5), rate float, description char(200));
create table roomservice(orderid int primary key,itemid int, quantity int, price float);
create table items(itemid int primary key,itemname char(20), rate float);
create table bookingdetails(bid int primary key,cid int, roomnum int, checkin date, checkout date, finalprice float, paymentstatus char(20));
create table expenses(cid int, roomnum int, orderid int, orderprice float, roomprice float , finalprice float);
create table employees(empid int primary key, aadhar int, ename char(50), bday date, age int, gender char(10), roleid int, sal float);
create table roles(roleid int primary key, rolename char(50),sal float);


alter table room add foreign key(roomtypeid) references roomtype(roomtypeid) on update cascade on delete cascade;
alter table roomservice add foreign key(itemid) references items(itemid) on update cascade on delete cascade; 
alter table bookingdetails add foreign key(cid) references customerdetails(cid) on update cascade on delete cascade;
alter table bookingdetails add foreign key(roomnum) references room(roomnum) on update cascade on delete cascade;
## NOT WORKING ## alter table bookingdetails add foreign key(finalprice) references expenses(finalprice) on update cascade on delete cascade;
alter table expenses add foreign key(cid) references customerdetails(cid) on update cascade on delete cascade;
alter table expenses add foreign key(roomnum) references room(roomnum) on update cascade on delete cascade;
alter table expenses add foreign key(orderid) references roomservice(orderid) on update cascade on delete cascade;
## NOT WORKING ## alter table expenses add foreign key(orderprice) references roomservice(price) on update cascade on delete cascade;
alter table employees add foreign key(roleid) references roles(roleid) on update cascade on delete cascade;
## NOT WORKING ## alter table employees add foreign key(sal) references roles(sal) on update cascade on delete cascade;

##Pretty certain that ## NOT WORKING ## commands aren't working because they already have a foreign key referencing that table. Not 100% though.


